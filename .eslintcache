[{"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\login.js":"1","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\landing.js":"2","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\upload.js":"3","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\index.js":"4","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\PrivateRoute.js":"5","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\home.js":"6","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\signup.js":"7","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\firebaseauth.js":"8","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\profile.js":"9","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\reportWebVitals.js":"10","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\App.js":"11"},{"size":1396,"mtime":1606873393298,"results":"12","hashOfConfig":"13"},{"size":957,"mtime":1606875092169,"results":"14","hashOfConfig":"13"},{"size":8902,"mtime":1606882488877,"results":"15","hashOfConfig":"13"},{"size":517,"mtime":1606632814923,"results":"16","hashOfConfig":"13"},{"size":529,"mtime":1606632814919,"results":"17","hashOfConfig":"13"},{"size":5623,"mtime":1606875049245,"results":"18","hashOfConfig":"13"},{"size":1935,"mtime":1606873015403,"results":"19","hashOfConfig":"13"},{"size":820,"mtime":1606632814921,"results":"20","hashOfConfig":"13"},{"size":3159,"mtime":1606873455509,"results":"21","hashOfConfig":"13"},{"size":375,"mtime":1606632814925,"results":"22","hashOfConfig":"13"},{"size":2948,"mtime":1606858027590,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},"1n48dyr",{"filePath":"27","messages":"28","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\login.js",["51"],"import React, { Component, useCallback, useContext } from \"react\"\r\n\r\nimport firebase from \"../firebase\";\r\nimport { AuthContext } from \"../firebaseauth\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Redirect, withRouter } from \"react-router\";\r\n\r\n// class for logging in existing user\r\n// from https://github.com/satansdeer/react-firebase-auth/blob/master/src/Login.js\r\nconst LoginScreen = () => {\r\n\tconst history = useHistory();\r\n\r\n\tconst handleLogin = useCallback(\r\n\t\tasync event => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tconst { email, password } = event.target.elements;\r\n\t\t\ttry {\r\n\t\t\t\tawait firebase.auth().signInWithEmailAndPassword(email.value, password.value);\r\n\t\t\t\thistory.push(\"/home\");\r\n\t\t\t} catch (error) {\r\n\t\t\t\talert(error);\r\n\t\t\t}\r\n\t\t},[history]);\r\n\r\n\tconst { currentUser } = useContext(AuthContext);\r\n\r\n\tif (currentUser) {\r\n\t\treturn (<Redirect to=\"/home\" />);\r\n\t}\r\n\r\n\tfunction gotoLanding (){\r\n\t\thistory.push(\"/\");\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Log in</h1>\r\n\t\t\t<form onSubmit={handleLogin}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tEmail\r\n\t\t\t\t\t<input name=\"email\" type=\"email\" placeholder=\"Email\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tPassword\r\n\t\t\t\t\t<input name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<button type=\"submit\">Log in</button>\r\n\t\t\t\t<button onClick={gotoLanding}>Back</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(LoginScreen);","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\landing.js",["52","53","54","55"],"import React from \"react\"\r\nimport logo from '../logo.svg';\r\nimport '../App.css';\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n// landing page\r\nconst LandingScreen = () => {\r\n\tconst history = useHistory();\r\n\r\n\tfunction gotoSignup (){\r\n\t\thistory.push(\"/signup\");\r\n\t}\r\n\r\n\tfunction gotoLogin (){\r\n\t\thistory.push(\"/login\");\r\n\t}\r\n\t\r\n\tfunction goToUpload (){\r\n\t\thistory.push(\"/upload\");\r\n\t}\r\n\r\n\tfunction goToHome (){\r\n\t\thistory.push(\"/home\");\r\n\t}\r\n\r\n\tfunction goToProfile (){\r\n\t\thistory.push(\"/profile\");\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"landing-page-content\">\r\n\t\t\t<h1>Welcome to the CS 97 Project</h1>\r\n\t\t\t<button onClick={gotoSignup}>Sign Up</button>\r\n\t\t\t<button onClick={gotoLogin}>Log In</button>\r\n\t\t\t{/* <button onClick={goToUpload}>Upload</button>\r\n\t\t\t<button onClick={goToProfile}>Profile</button>\r\n\t\t\t<button onClick={goToHome}>Home</button> */}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(LandingScreen);","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\upload.js",["56","57","58","59","60"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\index.js",[],["61","62"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\PrivateRoute.js",[],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\home.js",["63","64","65","66","67"],"import React, { Component } from \"react\"\r\nimport SplitPane, { Pane } from 'react-split-pane';\r\n\r\nimport { usePosition } from 'use-position';\r\n\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\n//import { Redirect, withRouter } from \"react-router\";\r\n\r\nimport firebase from \"../firebase\";\r\n\r\n// class to represent a video post\r\n// won't show video, just metadata, will show video on click\r\n// child of FeedPane\r\n/*class Post extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n    onClick(){\r\n    }\r\n    render(){\r\n        return (\r\n            <div>\r\n                <h2></h2>\r\n            </div>\r\n        );\r\n    }\r\n}*/\r\n\r\n// class to show feed of nearby videos\r\n// pane is part of the HomeScreen\r\n/*class FeedPane extends React.Component {\r\n    render(){\r\n        return ();\r\n    }\r\n}*/\r\n\r\n/*export const UserLocation = () => {\r\n    const {\r\n        latitude,\r\n        longitude,\r\n        timestamp,\r\n        accuracy,\r\n        error,\r\n    } = usePosition();\r\n    return (\r\n        <code>\r\n            latitude: {latitude}<br/>\r\n            longitude: {longitude}<br/>\r\n            timestamp: {timestamp}<br/>\r\n            accuracy: {accuracy && `${accuracy}m`}<br/>\r\n            error: {error}\r\n        </code>\r\n    );\r\n};*/\r\n\r\n// class to show video currently being viewed\r\n// pane is part of the HomeScreen\r\nclass VideoPane extends React.Component {\r\n\r\n    constructor (props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return (<div className=\"videoPane\"></div>);\r\n    }\r\n\r\n}\r\n\r\n// TODO setup auth, check if user logged in\r\n// if so, load posts for that user\r\n// if not, go to signup screen\r\nclass HomeScreen extends React.Component {\r\n\r\n    constructor (props){\r\n        super(props);\r\n\r\n        // max distance (in lat/lng degrees) where a post will show\r\n        this.state = {\r\n            maxDist: 0.25, \r\n            posts: [], \r\n            userLat: 0, \r\n            userLng: 0,\r\n            videoId: null\r\n        };\r\n    }\r\n\r\n    logOut(){\r\n        //this.props.history.push(\"/\");  //should return to home screen\r\n        firebase.auth().signOut();\r\n    }\r\n\r\n    loadNearbyPosts(){\r\n\r\n        const ref = firebase.firestore().collection(\"posts\");\r\n\r\n        ref.onSnapshot((querySnapshot) => {\r\n\r\n            let posts = [];\r\n            //const userPos = UserLocation();\r\n\r\n            querySnapshot.forEach((doc) => {\r\n\r\n                let data = doc.data();\r\n                console.log(data);\r\n\r\n                let dist = Math.sqrt(Math.pow(Math.abs(this.state.userLat - data.lat),2) + \r\n                    Math.pow(Math.abs(this.state.userLng - data.lng),2));\r\n\r\n                console.log(\"for post: lat: \"+data.lat+\", lng: \"+data.lng);\r\n                console.log(\"dist from post: \"+dist);\r\n\r\n                if (dist <= this.state.maxDist)\r\n                    posts.push(data);\r\n\r\n            });\r\n\r\n            this.setState({posts: posts});\r\n        });\r\n\r\n    }\r\n\r\n    componentDidMount (){\r\n        const homeScreen = this;\r\n\r\n        navigator.geolocation.getCurrentPosition(function(position) {\r\n            homeScreen.setState({\r\n                userLat: position.coords.latitude, \r\n                userLng: position.coords.longitude\r\n            });\r\n\r\n            console.log(\"for user: lat: \"+homeScreen.state.userLat+\", lng: \"+homeScreen.state.userLng);\r\n\r\n            homeScreen.loadNearbyPosts();\r\n        });\r\n    }\r\n\r\n    viewLoggedUserProfile = e => {\r\n        this.props.history.push(\"/profile/:\"+firebase.auth().currentUser.uid);\r\n    }\r\n\r\n    uploadVideo = e => {\r\n        this.props.history.push(\"/upload\");\r\n    }\r\n\r\n    convertTime(timestamp){\r\n        var unixSecDelay = Math.round((new Date()).getTime() / 1000) - timestamp;\r\n\r\n        var mult = [60,60,24,7,4,12];\r\n        var names = ['s','m','h','d','w','mo'];\r\n        var bound = 60;\r\n        var divider = 1;\r\n\r\n        var i;\r\n        for (i = 0; i < mult.length; i++) {\r\n            if (unixSecDelay < bound){\r\n                var delay = Math.round(unixSecDelay/divider);\r\n                return delay.toString() + names[i];\r\n            }\r\n            divider = divider*mult[i];\r\n            bound = bound*mult[i+1];\r\n        }\r\n        \r\n        var delay = Math.round(unixSecDelay/31540000);\r\n        return delay.toString() + 'yr';\r\n    }\r\n\r\n    // TODO use .map() method with firebase to load posts dynamically\r\n    // from https://github.com/samfromaway/firebase-tutorial/blob/master/src/GetFirebase.js\r\n\trender(){\r\n        return (\r\n            <SplitPane split=\"horizontal\" >\r\n                <Pane minSize=\"60%\">\r\n                    {this.state.posts.map((post) => (\r\n                        <div className=\"post\" key={post.videoId}>\r\n                            <h2>\r\n                                Video post {this.convertTime(post.timestamp)} ago \r\n                                by <Link to={\"/profile/:\"+post.userId}>{post.userId}</Link> from ({post.lat},{post.lng})\r\n                            </h2>\r\n                            <p>{post.likes} likes</p>\r\n                        </div>\r\n                    ))}\r\n                </Pane>\r\n                <Pane minSize=\"40%\">\r\n                    <button onClick={this.viewLoggedUserProfile}>View My Profile</button>\r\n                    <button onClick={this.uploadVideo}>Upload Video</button>\r\n                    <button onClick={this.logOut}>Log Out</button>\r\n                    <VideoPane id=\"video\" />\r\n                </Pane>\r\n            </SplitPane>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withRouter(HomeScreen);","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\signup.js",["68"],"import React, { Component, useCallback } from \"react\";\r\n\r\nimport firebase from \"../firebase\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n// class for signing up new user\r\n// from https://github.com/satansdeer/react-firebase-auth/blob/master/src/SignUp.js\r\nconst SignupScreen = () => {\r\n\tconst history = useHistory();\r\n\r\n\tfunction createDefaultUserData(email){\r\n\t\tconst ref = firebase.firestore().collection(\"users\");\r\n\r\n\t\t// use FirebaseUser id, not random/auto\r\n\t\tconst currentUser = firebase.auth().currentUser;\r\n\t\tif (!currentUser){\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tref.doc(currentUser.uid).set({\r\n\t\t\t\temail: email,\r\n\t\t\t\tuserId: currentUser.uid,\r\n\t\t\t\tnumFollowers: 0,\r\n\t\t\t\tnumFollowing: 0,\r\n\t\t\t\tnumVideos: 0\r\n\t\t\t});\r\n\t\t\tref.doc(currentUser.uid).collection(\"followers\").add({userId: \"\"});\r\n\t\t\tref.doc(currentUser.uid).collection(\"following\").add({userId: \"\"});\r\n\t\t\tref.doc(currentUser.uid).collection(\"videos\").add({postId: \"\"});\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst handleSignUp = useCallback(async event => {\r\n\t\tevent.preventDefault();\r\n\t\tconst { email, password } = event.target.elements;\r\n\t\ttry {\r\n\t\t\tawait firebase.auth().createUserWithEmailAndPassword(email.value, password.value);\r\n\r\n\t\t\t// create default user data in firestore\r\n\t\t\tcreateDefaultUserData(email.value);\r\n\r\n\t\t\thistory.push(\"/home\");\r\n\t\t} catch (error) {\r\n\t\t\talert(error);\r\n\t\t}\r\n\t}, [history]);\r\n\r\n\tfunction gotoLanding (){\r\n\t\thistory.push(\"/\");\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Sign up</h1>\r\n\t\t\t<form onSubmit={handleSignUp}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tEmail\r\n\t\t\t\t\t<input name=\"email\" type=\"email\" placeholder=\"Email\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tPassword\r\n\t\t\t\t\t<input name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<button type=\"submit\">Sign Up</button>\r\n\t\t\t</form>\r\n\t\t\t<button onClick={gotoLanding}>Back</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(SignupScreen);","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\firebaseauth.js",[],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\profile.js",["69","70"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\reportWebVitals.js",[],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\App.js",["71","72","73"],{"ruleId":"74","severity":1,"message":"75","line":1,"column":17,"nodeType":"76","messageId":"77","endLine":1,"endColumn":26},{"ruleId":"74","severity":1,"message":"78","line":2,"column":8,"nodeType":"76","messageId":"77","endLine":2,"endColumn":12},{"ruleId":"74","severity":1,"message":"79","line":20,"column":11,"nodeType":"76","messageId":"77","endLine":20,"endColumn":21},{"ruleId":"74","severity":1,"message":"80","line":24,"column":11,"nodeType":"76","messageId":"77","endLine":24,"endColumn":19},{"ruleId":"74","severity":1,"message":"81","line":28,"column":11,"nodeType":"76","messageId":"77","endLine":28,"endColumn":22},{"ruleId":"74","severity":1,"message":"75","line":1,"column":17,"nodeType":"76","messageId":"77","endLine":1,"endColumn":26},{"ruleId":"74","severity":1,"message":"82","line":5,"column":10,"nodeType":"76","messageId":"77","endLine":5,"endColumn":21},{"ruleId":"74","severity":1,"message":"83","line":6,"column":36,"nodeType":"76","messageId":"77","endLine":6,"endColumn":43},{"ruleId":"74","severity":1,"message":"84","line":9,"column":10,"nodeType":"76","messageId":"77","endLine":9,"endColumn":21},{"ruleId":"74","severity":1,"message":"85","line":166,"column":25,"nodeType":"76","messageId":"77","endLine":166,"endColumn":35},{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","replacedBy":"89"},{"ruleId":"74","severity":1,"message":"75","line":1,"column":17,"nodeType":"76","messageId":"77","endLine":1,"endColumn":26},{"ruleId":"74","severity":1,"message":"84","line":4,"column":10,"nodeType":"76","messageId":"77","endLine":4,"endColumn":21},{"ruleId":"74","severity":1,"message":"90","line":6,"column":10,"nodeType":"76","messageId":"77","endLine":6,"endColumn":20},{"ruleId":"91","severity":1,"message":"92","line":62,"column":5,"nodeType":"93","messageId":"94","endLine":64,"endColumn":6},{"ruleId":"95","severity":1,"message":"96","line":166,"column":13,"nodeType":"76","messageId":"97","endLine":166,"endColumn":18},{"ruleId":"74","severity":1,"message":"75","line":1,"column":17,"nodeType":"76","messageId":"77","endLine":1,"endColumn":26},{"ruleId":"74","severity":1,"message":"90","line":5,"column":10,"nodeType":"76","messageId":"77","endLine":5,"endColumn":20},{"ruleId":"74","severity":1,"message":"98","line":8,"column":10,"nodeType":"76","messageId":"77","endLine":8,"endColumn":18},{"ruleId":"74","severity":1,"message":"75","line":1,"column":17,"nodeType":"76","messageId":"77","endLine":1,"endColumn":26},{"ruleId":"74","severity":1,"message":"78","line":2,"column":8,"nodeType":"76","messageId":"77","endLine":2,"endColumn":12},{"ruleId":"74","severity":1,"message":"99","line":6,"column":8,"nodeType":"76","messageId":"77","endLine":6,"endColumn":20},"no-unused-vars","'Component' is defined but never used.","Identifier","unusedVar","'logo' is defined but never used.","'goToUpload' is defined but never used.","'goToHome' is defined but never used.","'goToProfile' is defined but never used.","'AuthContext' is defined but never used.","'message' is defined but never used.","'usePosition' is defined but never used.","'uploadTask' is assigned a value but never used.","no-native-reassign",["100"],"no-negated-in-lhs",["101"],"'useHistory' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","no-redeclare","'delay' is already defined.","redeclared","'Redirect' is defined but never used.","'PrivateRoute' is defined but never used.","no-global-assign","no-unsafe-negation"]
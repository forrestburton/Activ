[{"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\index.js":"1","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\upload.js":"2","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\signup.js":"3","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\notfound.js":"4","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\login.js":"5","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\landing.js":"6","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\profile.js":"7","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\App.js":"8","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\PrivateRoute.js":"9","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\firebaseauth.js":"10"},{"size":517,"mtime":1606632814923,"results":"11","hashOfConfig":"12"},{"size":3305,"mtime":1606704621084,"results":"13","hashOfConfig":"12"},{"size":1899,"mtime":1606632814932,"results":"14","hashOfConfig":"12"},{"size":467,"mtime":1606632814930,"results":"15","hashOfConfig":"12"},{"size":1396,"mtime":1606632814929,"results":"16","hashOfConfig":"12"},{"size":735,"mtime":1606682117023,"results":"17","hashOfConfig":"12"},{"size":2906,"mtime":1606632814931,"results":"18","hashOfConfig":"12"},{"size":2962,"mtime":1606703663855,"results":"19","hashOfConfig":"12"},{"size":529,"mtime":1606632814919,"results":"20","hashOfConfig":"12"},{"size":820,"mtime":1606632814921,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1n48dyr",{"filePath":"25","messages":"26","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"30"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\index.js",[],["49","50"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\upload.js",["51","52","53","54","55","56","57","58"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\signup.js",["59"],"import React, { Component, useCallback } from \"react\";\r\n\r\nimport firebase from \"../firebase\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n// class for signing up new user\r\n// from https://github.com/satansdeer/react-firebase-auth/blob/master/src/SignUp.js\r\nconst SignupScreen = () => {\r\n\tconst history = useHistory();\r\n\r\n\tfunction createDefaultUserData(email){\r\n\t\tconst ref = firebase.firestore().collection(\"users\");\r\n\r\n\t\t// use FirebaseUser id, not random/auto\r\n\t\tconst currentUser = firebase.auth().currentUser;\r\n\t\tif (!currentUser){\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tref.doc(currentUser.uid).set({\r\n\t\t\t\temail: email,\r\n\t\t\t\tuserId: currentUser.uid,\r\n\t\t\t\tnumFollowers: 0,\r\n\t\t\t\tnumFollowing: 0,\r\n\t\t\t\tnumVideos: 0\r\n\t\t\t});\r\n\t\t\tref.doc(currentUser.uid).collection(\"followers\").add(\"\");\r\n\t\t\tref.doc(currentUser.uid).collection(\"following\").add(\"\");\r\n\t\t\tref.doc(currentUser.uid).collection(\"videos\").add(\"\");\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst handleSignUp = useCallback(async event => {\r\n\t\tevent.preventDefault();\r\n\t\tconst { email, password } = event.target.elements;\r\n\t\ttry {\r\n\t\t\tawait firebase.auth().createUserWithEmailAndPassword(email.value, password.value);\r\n\r\n\t\t\t// create default user data in firestore\r\n\t\t\tcreateDefaultUserData(email);\r\n\r\n\t\t\thistory.push(\"/home\");\r\n\t\t} catch (error) {\r\n\t\t\talert(error);\r\n\t\t}\r\n\t}, [history]);\r\n\r\n\tfunction gotoLanding (){\r\n\t\thistory.push(\"/\");\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Sign up</h1>\r\n\t\t\t<form onSubmit={handleSignUp}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tEmail\r\n\t\t\t\t\t<input name=\"email\" type=\"email\" placeholder=\"Email\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tPassword\r\n\t\t\t\t\t<input name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<button type=\"submit\">Sign Up</button>\r\n\t\t\t</form>\r\n\t\t\t<button onClick={gotoLanding}>Back</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(SignupScreen);",["60","61"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\notfound.js",["62","63","64"],"import React, { Component } from \"react\"\r\nimport logo from '../logo.svg';\r\nimport '../App.css';\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n// 404 page\r\nconst NotFoundScreen = () => {\r\n\tconst history = useHistory();\r\n\r\n\tfunction gotoHome (){\r\n\t\thistory.push(\"/home\");\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p>Error 404 - Could not find that page.</p>\r\n\t\t\t<button onClick={this.returnHome}>Return to Home</button>\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\nexport default NotFoundScreen;","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\login.js",["65"],"import React, { Component, useCallback, useContext } from \"react\"\r\n\r\nimport firebase from \"../firebase\";\r\nimport { AuthContext } from \"../firebaseauth\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Redirect, withRouter } from \"react-router\";\r\n\r\n// class for logging in existing user\r\n// from https://github.com/satansdeer/react-firebase-auth/blob/master/src/Login.js\r\nconst LoginScreen = () => {\r\n\tconst history = useHistory();\r\n\r\n\tconst handleLogin = useCallback(\r\n\t\tasync event => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tconst { email, password } = event.target.elements;\r\n\t\t\ttry {\r\n\t\t\t\tawait firebase.auth().signInWithEmailAndPassword(email.value, password.value);\r\n\t\t\t\thistory.push(\"/home\");\r\n\t\t\t} catch (error) {\r\n\t\t\t\talert(error);\r\n\t\t\t}\r\n\t\t},[history]);\r\n\r\n\tconst { currentUser } = useContext(AuthContext);\r\n\r\n\tif (currentUser) {\r\n\t\treturn (<Redirect to=\"/home\" />);\r\n\t}\r\n\r\n\tfunction gotoLanding (){\r\n\t\thistory.push(\"/\");\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Log in</h1>\r\n\t\t\t<form onSubmit={handleLogin}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tEmail\r\n\t\t\t\t\t<input name=\"email\" type=\"email\" placeholder=\"Email\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tPassword\r\n\t\t\t\t\t<input name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<button type=\"submit\">Log in</button>\r\n\t\t\t\t<button onClick={gotoLanding}>Back</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(LoginScreen);",["66","67"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\landing.js",["68"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\profile.js",["69","70"],"import React from \"react\"\r\n\r\nimport firebase from \"../firebase\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n// TODO set up firestore user data, link with this\r\n// class for viewing profile of another user\r\nclass ProfileScreen extends React.Component {\r\n\tconstructor (props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tprofileId: null,\r\n\t\t\tprofileEmail: null,\r\n\t\t\tnumFollowers: 0,\r\n\t\t\tnumFollowing: 0,\r\n\t\t\tnumVideos: 0,\r\n\t\t\tisLoggedUserFollowing: false,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\t// get ID of profile to be viewed from link\r\n\t\tvar { profileId } = this.props.match.params;\r\n\t\tprofileId = profileId.substring(1);\r\n\t\tthis.setState({\r\n\t\t\tprofileId: profileId,\r\n\t\t});\r\n\r\n\t\tconst context = this;\r\n\r\n\t\tconst ref = firebase.firestore().collection(\"users\");\r\n\t\tref.doc(profileId).get().then(function(doc) {\r\n\t\t\tconsole.log(doc.data());\r\n\r\n\t\t\tcontext.setState({\r\n\t\t\t\tprofileEmail: doc.data().email,\r\n\t\t\t\tnumFollowers: doc.data().numFollowers,\r\n\t\t\t\tnumFollowing: doc.data().numFollowing,\r\n\t\t\t\tnumVideos: doc.data().numVideos,\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(context.state);\r\n\t\t});\r\n\r\n\t\t// TODO check if logged in user is already following this user\r\n\t}\r\n\r\n\tgotoHome = e => {\r\n\t\t// TODO figure out how to use history in stateful component\r\n\t\tthis.props.history.push(\"/home\");\r\n\t}\r\n\r\n\tfollowUser = e => {\r\n\t\t// get logged in user object\r\n\t\tconst currentUser = firebase.auth().currentUser;\r\n\r\n\t\tif (!currentUser){\r\n\t\t\t// this should be blocked anyway by PrivateRoute in App.js\r\n\t\t\t//return false;\r\n\t\t} else if (currentUser.uid === this.state.profileId){\r\n\t\t\talert(\"You can't follow yourself\");\r\n\t\t\t//return false;\r\n\t\t} else {\r\n\t\t\tconst ref = firebase.firestore().collection(\"users\");\r\n\r\n\t\t\tref.doc(currentUser.uid).collection(\"following\").add({userId: this.state.profileId});\r\n\t\t\tref.doc(this.state.profileId).collection(\"followers\").add({userId: currentUser.uid});\r\n\r\n\t\t\tref.doc(currentUser.uid).update({\r\n\t\t\t\tnumFollowing: firebase.firestore.FieldValue.increment(1),\r\n\t\t\t});\r\n\t\t\tref.doc(this.state.profileId).update({\r\n\t\t\t\tnumFollowers: firebase.firestore.FieldValue.increment(1),\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trender (){\r\n\t\tif (!this.state.profileId){\r\n\t\t\treturn (<div></div>);\r\n\t\t} else {\r\n\t\t\t/* TODO show feed of this user's videos in \"profile-posts\" */\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div id=\"profile\">\r\n\t\t\t\t\t\t<h1>User ID: {this.state.profileId}</h1>\r\n\t\t\t\t\t\t<h2>User Email: {this.state.profileEmail}</h2>\r\n\t\t\t\t\t\t<p>{this.state.numFollowers} followers, {this.state.numFollowing} following, {this.state.numVideos} videos</p>\r\n\t\t\t\t\t\t<button id=\"follow-user-btn\" onClick={this.followUser}>Follow User</button>\r\n\t\t\t\t\t\t<button id=\"go-home-from-profile-btn\" onClick={this.gotoHome}>Back</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"profile-posts\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default withRouter(ProfileScreen);","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\App.js",["71","72"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\PrivateRoute.js",[],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\firebaseauth.js",[],{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":3,"column":8,"nodeType":"79","messageId":"80","endLine":3,"endColumn":16},{"ruleId":"77","severity":1,"message":"81","line":5,"column":22,"nodeType":"79","messageId":"80","endLine":5,"endColumn":28},{"ruleId":"77","severity":1,"message":"82","line":5,"column":36,"nodeType":"79","messageId":"80","endLine":5,"endColumn":43},{"ruleId":"77","severity":1,"message":"83","line":5,"column":52,"nodeType":"79","messageId":"80","endLine":5,"endColumn":56},{"ruleId":"77","severity":1,"message":"84","line":17,"column":11,"nodeType":"79","messageId":"80","endLine":17,"endColumn":19},{"ruleId":"77","severity":1,"message":"85","line":21,"column":10,"nodeType":"79","messageId":"80","endLine":21,"endColumn":21},{"ruleId":"77","severity":1,"message":"86","line":23,"column":11,"nodeType":"79","messageId":"80","endLine":23,"endColumn":26},{"ruleId":"77","severity":1,"message":"87","line":30,"column":11,"nodeType":"79","messageId":"80","endLine":30,"endColumn":22},{"ruleId":"77","severity":1,"message":"88","line":1,"column":17,"nodeType":"79","messageId":"80","endLine":1,"endColumn":26},{"ruleId":"73","replacedBy":"89"},{"ruleId":"75","replacedBy":"90"},{"ruleId":"77","severity":1,"message":"88","line":1,"column":17,"nodeType":"79","messageId":"80","endLine":1,"endColumn":26},{"ruleId":"77","severity":1,"message":"91","line":2,"column":8,"nodeType":"79","messageId":"80","endLine":2,"endColumn":12},{"ruleId":"77","severity":1,"message":"84","line":11,"column":11,"nodeType":"79","messageId":"80","endLine":11,"endColumn":19},{"ruleId":"77","severity":1,"message":"88","line":1,"column":17,"nodeType":"79","messageId":"80","endLine":1,"endColumn":26},{"ruleId":"73","replacedBy":"92"},{"ruleId":"75","replacedBy":"93"},{"ruleId":"77","severity":1,"message":"91","line":2,"column":8,"nodeType":"79","messageId":"80","endLine":2,"endColumn":12},{"ruleId":"77","severity":1,"message":"94","line":5,"column":10,"nodeType":"79","messageId":"80","endLine":5,"endColumn":20},{"ruleId":"77","severity":1,"message":"95","line":8,"column":10,"nodeType":"79","messageId":"80","endLine":8,"endColumn":18},{"ruleId":"77","severity":1,"message":"88","line":1,"column":17,"nodeType":"79","messageId":"80","endLine":1,"endColumn":26},{"ruleId":"77","severity":1,"message":"91","line":2,"column":8,"nodeType":"79","messageId":"80","endLine":2,"endColumn":12},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"no-unused-vars","'firebase' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","'message' is defined but never used.","'Icon' is defined but never used.","'gotoHome' is defined but never used.","'currentUser' is assigned a value but never used.","'uploadVideoFile' is defined but never used.","'gotoLanding' is defined but never used.","'Component' is defined but never used.",["96"],["97"],"'logo' is defined but never used.",["96"],["97"],"'useHistory' is defined but never used.","'Redirect' is defined but never used.","no-global-assign","no-unsafe-negation"]
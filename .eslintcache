[{"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\login.js":"1","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\landing.js":"2","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\upload.js":"3","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\index.js":"4","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\PrivateRoute.js":"5","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\home.js":"6","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\signup.js":"7","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\firebaseauth.js":"8"},{"size":1392,"mtime":1606863314849,"results":"9","hashOfConfig":"10"},{"size":949,"mtime":1606858027594,"results":"11","hashOfConfig":"10"},{"size":8467,"mtime":1606869072349,"results":"12","hashOfConfig":"10"},{"size":517,"mtime":1606632814923,"results":"13","hashOfConfig":"10"},{"size":529,"mtime":1606632814919,"results":"14","hashOfConfig":"10"},{"size":5190,"mtime":1606632814926,"results":"15","hashOfConfig":"10"},{"size":1899,"mtime":1606632814932,"results":"16","hashOfConfig":"10"},{"size":820,"mtime":1606632814921,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1n48dyr",{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"22","messages":"23","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"26"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\login.js",["37"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\landing.js",["38"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\upload.js",["39","40","41","42","43"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\index.js",[],["44","45"],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\PrivateRoute.js",[],"C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\home.js",["46","47","48","49","50"],"import React, { Component } from \"react\"\r\nimport SplitPane, { Pane } from 'react-split-pane';\r\n\r\nimport { usePosition } from 'use-position';\r\n\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\n//import { Redirect, withRouter } from \"react-router\";\r\n\r\nimport firebase from \"../firebase\";\r\n\r\n// class to represent a video post\r\n// won't show video, just metadata, will show video on click\r\n// child of FeedPane\r\n/*class Post extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    onClick(){\r\n\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <h2></h2>\r\n            </div>\r\n        );\r\n    }\r\n}*/\r\n\r\n// class to show feed of nearby videos\r\n// pane is part of the HomeScreen\r\n/*class FeedPane extends React.Component {\r\n\r\n    render(){\r\n        return ();\r\n    }\r\n\r\n}*/\r\n\r\n/*export const UserLocation = () => {\r\n    const {\r\n        latitude,\r\n        longitude,\r\n        timestamp,\r\n        accuracy,\r\n        error,\r\n    } = usePosition();\r\n\r\n    return (\r\n        <code>\r\n            latitude: {latitude}<br/>\r\n            longitude: {longitude}<br/>\r\n            timestamp: {timestamp}<br/>\r\n            accuracy: {accuracy && `${accuracy}m`}<br/>\r\n            error: {error}\r\n        </code>\r\n    );\r\n};*/\r\n\r\n// class to show video currently being viewed\r\n// pane is part of the HomeScreen\r\nclass VideoPane extends React.Component {\r\n\r\n    constructor (props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return (<div className=\"videoPane\"></div>);\r\n    }\r\n\r\n}\r\n\r\n// TODO setup auth, check if user logged in\r\n// if so, load posts for that user\r\n// if not, go to signup screen\r\nclass HomeScreen extends React.Component {\r\n\r\n    constructor (props){\r\n        super(props);\r\n\r\n        // max distance (in lat/lng degrees) where a post will show\r\n        this.state = {\r\n            maxDist: 0.25, \r\n            posts: [], \r\n            userLat: 0, \r\n            userLng: 0,\r\n            videoId: null\r\n        };\r\n    }\r\n\r\n    logOut(){\r\n        firebase.auth().signOut();\r\n    }\r\n\r\n    loadNearbyPosts(){\r\n\r\n        const ref = firebase.firestore().collection(\"posts\");\r\n\r\n        ref.onSnapshot((querySnapshot) => {\r\n\r\n            let posts = [];\r\n            //const userPos = UserLocation();\r\n\r\n            querySnapshot.forEach((doc) => {\r\n\r\n                let data = doc.data();\r\n                console.log(data);\r\n\r\n                let dist = Math.sqrt(Math.pow(Math.abs(this.state.userLat - data.lat),2) + \r\n                    Math.pow(Math.abs(this.state.userLng - data.lng),2));\r\n\r\n                console.log(\"for post: lat: \"+data.lat+\", lng: \"+data.lng);\r\n                console.log(\"dist from post: \"+dist);\r\n\r\n                if (dist <= this.state.maxDist)\r\n                    posts.push(data);\r\n\r\n            });\r\n\r\n            this.setState({posts: posts});\r\n        });\r\n\r\n    }\r\n\r\n    componentDidMount (){\r\n        const homeScreen = this;\r\n\r\n        navigator.geolocation.getCurrentPosition(function(position) {\r\n            homeScreen.setState({\r\n                userLat: position.coords.latitude, \r\n                userLng: position.coords.longitude\r\n            });\r\n\r\n            console.log(\"for user: lat: \"+homeScreen.state.userLat+\", lng: \"+homeScreen.state.userLng);\r\n\r\n            homeScreen.loadNearbyPosts();\r\n        });\r\n    }\r\n\r\n    convertTime(timestamp){\r\n        var unixSecDelay = Math.round((new Date()).getTime() / 1000) - timestamp;\r\n\r\n        var mult = [60,60,24,7,4,12];\r\n        var names = ['s','m','h','d','w','mo'];\r\n        var bound = 60;\r\n        var divider = 1;\r\n\r\n        var i;\r\n        for (i = 0; i < mult.length; i++) {\r\n            if (unixSecDelay < bound){\r\n                var delay = Math.round(unixSecDelay/divider);\r\n                return delay.toString() + names[i];\r\n            }\r\n            divider = divider*mult[i];\r\n            bound = bound*mult[i+1];\r\n        }\r\n        \r\n        var delay = Math.round(unixSecDelay/31540000);\r\n        return delay.toString() + 'yr';\r\n    }\r\n\r\n    // TODO use .map() method with firebase to load posts dynamically\r\n    // from https://github.com/samfromaway/firebase-tutorial/blob/master/src/GetFirebase.js\r\n\trender(){\r\n        return (\r\n            <SplitPane split=\"horizontal\" >\r\n                <Pane minSize=\"60%\">\r\n                    {this.state.posts.map((post) => (\r\n                        <div className=\"post\" key={post.videoId}>\r\n                            <h2>\r\n                                Video post {this.convertTime(post.timestamp)} ago \r\n                                by <Link to={\"/profile/:\"+post.userId}>{post.userId}</Link> from ({post.lat},{post.lng})\r\n                            </h2>\r\n                            <p>{post.likes} likes</p>\r\n                        </div>\r\n                    ))}\r\n                </Pane>\r\n                <Pane minSize=\"40%\">\r\n                    <button onClick={this.logOut}>Log Out</button>\r\n                    <VideoPane id=\"video\" />\r\n                </Pane>\r\n            </SplitPane>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withRouter(HomeScreen);","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\screens\\signup.js",["51"],"import React, { Component, useCallback } from \"react\";\r\n\r\nimport firebase from \"../firebase\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n// class for signing up new user\r\n// from https://github.com/satansdeer/react-firebase-auth/blob/master/src/SignUp.js\r\nconst SignupScreen = () => {\r\n\tconst history = useHistory();\r\n\r\n\tfunction createDefaultUserData(email){\r\n\t\tconst ref = firebase.firestore().collection(\"users\");\r\n\r\n\t\t// use FirebaseUser id, not random/auto\r\n\t\tconst currentUser = firebase.auth().currentUser;\r\n\t\tif (!currentUser){\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tref.doc(currentUser.uid).set({\r\n\t\t\t\temail: email,\r\n\t\t\t\tuserId: currentUser.uid,\r\n\t\t\t\tnumFollowers: 0,\r\n\t\t\t\tnumFollowing: 0,\r\n\t\t\t\tnumVideos: 0\r\n\t\t\t});\r\n\t\t\tref.doc(currentUser.uid).collection(\"followers\").add(\"\");\r\n\t\t\tref.doc(currentUser.uid).collection(\"following\").add(\"\");\r\n\t\t\tref.doc(currentUser.uid).collection(\"videos\").add(\"\");\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst handleSignUp = useCallback(async event => {\r\n\t\tevent.preventDefault();\r\n\t\tconst { email, password } = event.target.elements;\r\n\t\ttry {\r\n\t\t\tawait firebase.auth().createUserWithEmailAndPassword(email.value, password.value);\r\n\r\n\t\t\t// create default user data in firestore\r\n\t\t\tcreateDefaultUserData(email);\r\n\r\n\t\t\thistory.push(\"/home\");\r\n\t\t} catch (error) {\r\n\t\t\talert(error);\r\n\t\t}\r\n\t}, [history]);\r\n\r\n\tfunction gotoLanding (){\r\n\t\thistory.push(\"/\");\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Sign up</h1>\r\n\t\t\t<form onSubmit={handleSignUp}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tEmail\r\n\t\t\t\t\t<input name=\"email\" type=\"email\" placeholder=\"Email\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tPassword\r\n\t\t\t\t\t<input name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<button type=\"submit\">Sign Up</button>\r\n\t\t\t</form>\r\n\t\t\t<button onClick={gotoLanding}>Back</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(SignupScreen);","C:\\CS Projects\\CS97_Final_Project\\cs97-project\\src\\firebaseauth.js",[],{"ruleId":"52","severity":1,"message":"53","line":1,"column":17,"nodeType":"54","messageId":"55","endLine":1,"endColumn":26},{"ruleId":"52","severity":1,"message":"56","line":2,"column":8,"nodeType":"54","messageId":"55","endLine":2,"endColumn":12},{"ruleId":"52","severity":1,"message":"53","line":1,"column":17,"nodeType":"54","messageId":"55","endLine":1,"endColumn":26},{"ruleId":"52","severity":1,"message":"57","line":4,"column":10,"nodeType":"54","messageId":"55","endLine":4,"endColumn":21},{"ruleId":"52","severity":1,"message":"58","line":5,"column":36,"nodeType":"54","messageId":"55","endLine":5,"endColumn":43},{"ruleId":"52","severity":1,"message":"59","line":8,"column":10,"nodeType":"54","messageId":"55","endLine":8,"endColumn":21},{"ruleId":"52","severity":1,"message":"60","line":83,"column":15,"nodeType":"54","messageId":"55","endLine":83,"endColumn":19},{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","replacedBy":"64"},{"ruleId":"52","severity":1,"message":"53","line":1,"column":17,"nodeType":"54","messageId":"55","endLine":1,"endColumn":26},{"ruleId":"52","severity":1,"message":"59","line":4,"column":10,"nodeType":"54","messageId":"55","endLine":4,"endColumn":21},{"ruleId":"52","severity":1,"message":"65","line":6,"column":10,"nodeType":"54","messageId":"55","endLine":6,"endColumn":20},{"ruleId":"66","severity":1,"message":"67","line":69,"column":5,"nodeType":"68","messageId":"69","endLine":71,"endColumn":6},{"ruleId":"70","severity":1,"message":"71","line":164,"column":13,"nodeType":"54","messageId":"72","endLine":164,"endColumn":18},{"ruleId":"52","severity":1,"message":"53","line":1,"column":17,"nodeType":"54","messageId":"55","endLine":1,"endColumn":26},"no-unused-vars","'Component' is defined but never used.","Identifier","unusedVar","'logo' is defined but never used.","'AuthContext' is defined but never used.","'message' is defined but never used.","'usePosition' is defined but never used.","'file' is assigned a value but never used.","no-native-reassign",["73"],"no-negated-in-lhs",["74"],"'useHistory' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","no-redeclare","'delay' is already defined.","redeclared","no-global-assign","no-unsafe-negation"]